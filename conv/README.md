# CUDA 卷积实现与优化
本文主要实现卷积的im2col优化算法，所有数据均基于NCHW格式。

### 实验环境

| 软硬件 | 版本/属性                              |
| ------ | -------------------------------------- |
| g++    | 5.4.0 20160609                         |
| cuda   | 10.1.168                               |
| 硬件   | TITAN X (Pascal)，理论浮点峰值11TFlops |
| OS     | ubuntu1~16.04.12                       |


### 1x1深度卷积优化

1x1卷积可以直接转化为矩阵乘输入无需做im2col变换。这里测试了两种规格，相对于cudnn中卷积的加速比如下：

input_size=(64, 64, 64, 64),  kernel_size=(64, 64, 1, 1), speedup=1.12

input_size=(64, 128, 128, 128),  kernel_size=(128, 128, 1, 1), speedup=0.91

（为了编程方便，这里没有进行额外对齐操作，而是直接采用了对齐64的形状，不影响性能测量，但运行结果对其他形状不鲁棒）


### 3x3卷积优化



### 5x5卷积优化



### 总结
